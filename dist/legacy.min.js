
/*!
* Sesam 5.6.0 - https://github.com/lennertderyck/sesam
* Licensed under the GNU GPLv3 license - https://choosealicense.com/licenses/gpl-3.0/#
*
* Copyright (c) 2020 Lennert De Ryck
*/

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sesam=exports.sesamCollapse=void 0;const sesamCollapse={initialize(){console.log("\n%c[service] sesam.js initialize() running! \n ","color: #00d400; font-weight: bold"),console.log(`%c[service] initialize()`,"font-weight: bold"),this.cache(),this.listen(),this.domSetup(this.triggers),this.domSetup(this.targets),null==this.backdrop&&this.addBackdrop()},listen(){var a=this;document.body.addEventListener("click",function(b){const c=b.target.closest("[data-sesam-trigger]");if(null!=c){a.collapse(c);const b=document.querySelectorAll(`[data-sesam-target="${c.dataset.sesamTrigger}"]`);b.forEach(function(b){a.collapse(b)})}})},cache(){this.triggers=document.querySelectorAll("[data-sesam-trigger]"),this.targets=document.querySelectorAll("[data-sesam-target]"),this.backdrop=document.querySelector("[data-label=\"sesamBackdrop\"]")},domSetup(a){a.forEach(function(a){a=a.classList,a.contains("sesam")||a.add("sesam"),a.contains("sesam-hidden")||a.contains("sesam-show")||a.add("sesam-hidden")})},collapse(a){const b=this.itemState(a);!0==b?this.itemShow(a):this.itemHide(a),a.dataset.sesamTarget!=null&&!0==b?("true"==a.dataset.sesamBackdrop?this.itemShow(this.backdrop):null,"true"==a.dataset.sesamScrollblock?this.scrollBlock({block:!0}):null,a.dataset.sesamParent==null?null:this.hideOtherChildren(a),a.dataset.sesamOptions!=null&&(this.targetOptions(a),"true"==this.optionsMap.get("backdrop")?this.itemShow(this.backdrop):null,"true"==this.optionsMap.get("scrollBlock")?this.scrollBlock({block:!0}):null)):a.dataset.sesamTarget!=null&&!1==b&&(this.itemHide(this.backdrop),this.scrollBlock({block:!1}))},itemState(a){return a.classList.contains("sesam-hidden")},targetOptions(a){var b=this;const c=a.dataset.sesamOptions.split(",");this.optionsMap=new Map,c.forEach(function(a){a=a.split(":"),b.optionsMap.set(a[0].replace(" ",""),a[1])})},hideOtherChildren(a){var b=this;const c=document.querySelectorAll(`[data-sesam-group="${a.dataset.sesamParent}"] .sesam:not([data-sesam-target="${a.dataset.sesamTarget}"]):not([data-sesam-trigger="${a.dataset.sesamTarget}"])`);c.forEach(function(a){b.itemHide(a)})},itemHide(a){a.classList.remove("sesam-show"),a.classList.add("sesam-hidden")},itemShow(a){a.classList.add("sesam-show"),a.classList.remove("sesam-hidden")},addBackdrop(){this.backdrop=document.createElement("div"),this.backdrop.setAttribute("data-label","sesamBackdrop"),this.backdrop.classList.add("sesam","sesam-hidden","sesam-backdrop"),document.body.appendChild(this.backdrop)},scrollBlock({block:a}){!0==a?document.body.classList.add("sesam-scrollBlock"):document.body.classList.remove("sesam-scrollBlock")}},sesam=function({action:a,collapse:b,execute:c,classes:d,target:e,modal:f},g){e=document.querySelector(`[data-sesam-target='${e}']`),a!=null&&"show"==a?sesamCollapse.itemShow(e):null,a!=null&&"hide"==a?sesamCollapse.itemHide(e):null,b!=null&&!0==b?sesamCollapse.collapse(e):null,f!=null&&f.backdrop!==void 0&&(!0==f.backdrop?sesamCollapse.itemShow(sesamCollapse.backdrop):null,!1==f.backdrop?sesamCollapse.itemHide(sesamCollapse.backdrop):null),f!=null&&f.scrollBlock!==void 0&&(!0==f.scrollBlock?sesamCollapse.scrollBlock({block:!0}):null,!1==f.scrollBlock?sesamCollapse.scrollBlock({block:!1}):null),g?g():null};/*
sesam({
    target: 'example', //doet dit: document.querySelector(`[data-sesam-target='${example}']`)
    collapse: true, // gaat gewoon kijken wat de huidige state is van een target en die veranderen
    action: 'show', // of 'hide', niet gebruiken in combinatie met collapse argument
    execute: (() => { // voer extra javascript uit
        console.log('this works!')
    })(), 
    classes: {
        add: ['add','some','classes'],
        remove: ['remove','some','classes']
    },
    modal: {
        backdrop: true, // voegt sesam-hidden/sesam-show classe toe aan het backdrop element, 
                        //backdrop element wordt automatisch gemaakt bij het initialiseren
        scrollBlock: true // blokkeert het scrollen door de pagina wanneer deze modal getoont wordt
    }
})
*/exports.sesam=sesam,exports.sesamCollapse=sesamCollapse;